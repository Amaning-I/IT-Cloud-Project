<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
  <title>DriveNow ‚Äì Customize Your Audi Q2 Rental</title>
</head>
<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <div class="logo">DriveNow</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="vehicle.html">Vehicles</a>
      <a href="#">About</a>
      <a href="#">Contact</a>
    </nav>
    <button class="login-btn">Login</button>
  </header>

  <!-- MAIN CONTENT -->
  <div class="booking-page-wrapper">
    <div class="booking-page-container">
      <div class="booking-main-content">
        <h1>Customize Your Audi Q2 Rental</h1>
        <div class="location-header">
          <span id="selectedLocationDisplay" title="Click to change pickup location">Pickup Location: Not Selected</span>
          <button id="changeLocationBtn" class="cta">Change</button>
        </div>

        <!-- DURATION SECTION -->
        <div class="booking-section-box" id="durationSection">
          <div class="booking-section-header">
            <h2><span class="icon">üìÖ</span> Minimum Duration</h2>
            <span id="durationCompletion" class="location-display"></span>
            <span id="durationCheck" class="checkmark-icon" style="display: none;">‚úîÔ∏è</span>
          </div>
          <div class="booking-options-grid">
            <div class="option-card" data-duration-months="1" data-monthly-price="899" data-onetime-fee="199">
              <h4>1 Month</h4>
              <p>After your contract term, your subscription automatically converts to a monthly cancellable plan.</p>
              <span class="price-tag">‚Ç¨899 / Month</span>
              <p class="subtext">+ One-time Start Fee ‚Ç¨199</p>
            </div>
            <div class="option-card" data-duration-months="6" data-monthly-price="689" data-onetime-fee="99">
              <h4>6 Months</h4>
              <p>After your contract term, your subscription automatically converts to a monthly cancellable plan.</p>
              <span class="price-tag">‚Ç¨689 / Month</span>
              <p class="subtext">+ One-time Start Fee ‚Ç¨99</p>
            </div>
            <div class="option-card selected" data-duration-months="12" data-monthly-price="549" data-onetime-fee="0">
              <h4>12 Months</h4>
              <p>After your contract term, your subscription automatically converts to a monthly cancellable plan.</p>
              <span class="price-tag">‚Ç¨549 / Month</span>
              <p class="subtext">+ One-time Start Fee ‚Ç¨0</p>
            </div>
          </div>
          <div class="navigate-buttons">
            <button class="next-btn" data-target-section="kilometerSection" data-current-section="durationSection">Next Step</button>
          </div>
        </div>

        <!-- KILOMETER SECTION -->
        <div class="booking-section-box" id="kilometerSection" style="display:none;">
          <div class="booking-section-header">
            <h2><span class="icon">üõ£Ô∏è</span> Kilometer Package</h2>
            <span id="kilometerCompletion" class="location-display"></span>
            <span id="kilometerCheck" class="checkmark-icon" style="display: none;">‚úîÔ∏è</span>
          </div>
          <div class="kilometer-input-group">
            <label for="kilometerRange">Select your desired kilometers per month:</label>
            <input type="range" id="kilometerRange" min="200" max="2000" step="50" value="500">
            <div class="kilometer-value"><span id="currentKilometers">500</span> KM / Month</div>
          </div>
          <p style="font-size:0.9em;color:#bbb;margin-top:15px;">Additional kilometers will be charged at ‚Ç¨0.25/km. Unused kilometers do not roll over.</p>
          <div class="navigate-buttons">
            <button class="next-btn" data-target-section="protectionSection" data-current-section="kilometerSection">Next Step</button>
          </div>
        </div>

        <!-- PROTECTION SECTION -->
        <div class="booking-section-box" id="protectionSection" style="display:none;">
          <div class="booking-section-header">
            <h2><span class="icon">üõ°Ô∏è</span> Protection</h2>
            <span id="protectionCompletion" class="location-display"></span>
            <span id="protectionCheck" class="checkmark-icon" style="display: none;">‚úîÔ∏è</span>
          </div>
          <div class="checkbox-group">
            <label><input type="radio" name="protection" value="standard" checked data-price="0"> Standard Protection (‚Ç¨0 / Month)</label>
            <p class="extra-description">Basic liability insurance. Damage to your vehicle will incur a deductible.</p>
            <label><input type="radio" name="protection" value="premium" data-price="29.99"> Premium Protection (‚Ç¨29.99 / Month)</label>
            <p class="extra-description">Reduced deductible, covers minor damages, glass and tire protection.</p>
            <label><input type="radio" name="protection" value="full" data-price="59.99"> Full Protection (‚Ç¨59.99 / Month)</label>
            <p class="extra-description">Zero deductible, comprehensive coverage for peace of mind.</p>
          </div>
          <div class="navigate-buttons">
            <button class="next-btn" data-target-section="extrasSection" data-current-section="protectionSection">Next Step</button>
          </div>
        </div>

        <!-- EXTRAS SECTION -->
        <div class="booking-section-box" id="extrasSection" style="display:none;">
          <div class="booking-section-header">
            <h2><span class="icon">‚ûï</span> Choose Your Extras</h2>
            <span id="extrasCompletion" class="location-display"></span>
            <span id="extrasCheck" class="checkmark-icon" style="display: none;">‚úîÔ∏è</span>
          </div>
          <div class="checkbox-group">
            <label><input type="checkbox" name="extra" value="childSeat" data-price-monthly="15" data-price-onetime="0"> Child Seat (‚Ç¨15 / Month)</label>
            <p class="extra-description">Suitable for children aged 1-4 years.</p>
            <label><input type="checkbox" name="extra" value="gps" data-price-monthly="10" data-price-onetime="0"> GPS Navigation (‚Ç¨10 / Month)</label>
            <p class="extra-description">Pre-installed GPS system for easy navigation.</p>
            <label><input type="checkbox" name="extra" value="winterTires" data-price-monthly="0" data-price-onetime="50"> Winter Tires (One-time ‚Ç¨50)</label>
            <p class="extra-description">Essential for safe driving during winter months (October-March).</p>
            <label><input type="checkbox" name="extra" value="additionalDriver" data-price-monthly="20" data-price-onetime="0"> Additional Driver (‚Ç¨20 / Month)</label>
            <p class="extra-description">Allows another person to drive the vehicle.</p>
          </div>
          <div class="navigate-buttons">
            <button class="next-btn" id="finalBookNowBtn">Book Now</button>
          </div>
        </div>
      </div>
      <!-- SUMMARY SIDEBAR -->
      <div class="booking-summary-sidebar">
        <h3>Subscription Overview</h3>
        <div class="summary-car-details">
          <img src="assets/AudiQ2.png" alt="Audi Q2 S-Line">
          <div class="summary-car-info">
            <p id="summaryCarName">Audi Q2</p>
            <p id="summaryCarType">Compact SUV</p>
          </div>
        </div>
        <div class="summary-items-list">
          <div class="summary-item"><span>Pickup Location</span><strong id="summaryLocation">Not Selected</strong></div>
          <div class="summary-item"><span>Pickup Date</span><strong id="summaryPickupDate">Not Selected</strong></div>
          <div class="summary-item"><span>Minimum Duration</span><strong id="summaryDuration">12 Months</strong></div>
          <div class="summary-item"><span>Kilometer Package</span><strong id="summaryKilometers">500 Kilometers per Month</strong></div>
          <div class="summary-item"><span>Protection</span><strong id="summaryProtection">Standard Protection</strong></div>
          <div class="summary-item" id="summaryExtrasContainer"><span>Extras</span><strong>None</strong></div>
        </div>
        <div class="summary-price-details">
          <div class="total-onetime"><span>One-time Costs</span><span id="summaryOneTimeCost">‚Ç¨0.00</span></div>
          <div class="total-monthly"><span>Monthly Costs</span><span id="summaryMonthlyCost">‚Ç¨549.00</span></div>
          <p class="tax-info">Show Details including Tax</p>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer"><p>¬© 2025 DriveNow. All rights reserved.</p></footer>

  <!-- SLIDE-IN BOOKING PANEL -->
  <div id="bookingModal">
    <div class="booking-panel" role="dialog" aria-modal="true">
      <button class="close-btn" aria-label="Close booking panel">√ó</button>
      <div class="car-header">
        <img id="modalCarImage" src="assets/AudiQ2.png" alt="Audi Q2" />
        <h3 id="modalCarName">Audi Q2 S-Line</h3>
      </div>
      <form class="booking-form" id="bookingForm">
        <div>
          <label for="pickupLocation">Pickup location</label>
          <select id="pickupLocation" required>
            <option value="" disabled selected>Select a city</option>
            <option value="berlin">Berlin</option>
            <option value="munich">Munich</option>
            <option value="hamburg">Hamburg</option>
            <option value="frankfurt">Frankfurt</option>
          </select>
        </div>
        <div>
          <label for="pickupDate">Pickup date</label>
          <input type="date" id="pickupDate" required />
        </div>
        <button type="submit" class="continue-btn">Save & Continue</button>
      </form>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="main.js"></script>
  <script>
    // Helper to capitalise slugs
    function formatLocation(slug) {
      return slug.split('-').map(w => w.charAt(0).toUpperCase()+w.slice(1)).join(' ');
    }
    // Bind Change button
    document.getElementById('changeLocationBtn').addEventListener('click', openBookingModal);
  </script>
</body>
</html>
